<?xml version="1.0" encoding="ISO-8859-1"?>
<!--

    Copyright (C) 2003-2007 eXo Platform SAS.

    This program is free software; you can redistribute it and/or
    modify it under the terms of the GNU Affero General Public License
    as published by the Free Software Foundation; either version 3
    of the License, or (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with this program; if not, see<http://www.gnu.org/licenses/>.

-->
<configuration>
	<component>
		<key>org.exoplatform.services.organization.OrganizationService</key>
		<type>org.exoplatform.services.organization.jdbc.OrganizationServiceImpl</type>
	</component>

	<external-component-plugins>
		<target-component>org.exoplatform.services.listener.ListenerService</target-component>

		<component-plugin>
			<name>organization.user.preDelete</name>
			<set-method>addListener</set-method>
			<type>org.exoplatform.services.organization.jdbc.listeners.RemoveUserProfileListener</type>
		</component-plugin>

		<component-plugin>
			<name>organization.user.postCreate</name>
			<set-method>addListener</set-method>
			<type>org.exoplatform.services.organization.jdbc.listeners.CreateUserListener</type>
		</component-plugin>

		<component-plugin>
			<name>organization.user.preDelete</name>
			<set-method>addListener</set-method>
			<type>org.exoplatform.services.organization.jdbc.listeners.RemoveMembershipListener</type>
		</component-plugin>

		<component-plugin>
			<name>organization.user.preDelete</name>
			<set-method>addListener</set-method>
			<type>org.exoplatform.portal.config.RemoveUserPortalConfigListener</type>
		</component-plugin>

		<component-plugin>
			<name>organization.membershipType.preDelete</name>
			<set-method>addListener</set-method>
			<type>org.exoplatform.services.organization.jdbc.listeners.RemoveMembershipListener</type>
		</component-plugin>

		<component-plugin>
			<name>organization.group.preDelete</name>
			<set-method>addListener</set-method>
			<type>org.exoplatform.services.organization.jdbc.listeners.RemoveMembershipListener</type>
		</component-plugin>

		<component-plugin>
			<name>organization.group.preDelete</name>
			<set-method>addListener</set-method>
			<type>org.exoplatform.portal.config.RemoveGroupPortalConfigListener</type>
		</component-plugin>

		<component-plugin>
			<name>organization.group.preDelete</name>
			<set-method>addListener</set-method>
			<type>org.exoplatform.services.organization.jdbc.listeners.RemoveGroupListener</type>
		</component-plugin>

	</external-component-plugins>

</configuration>
